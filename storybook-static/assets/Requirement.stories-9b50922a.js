import{r as y}from"./index-76fb7be0.js";import"./_commonjsHelpers-de833af9.js";var P={exports:{}},x={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $=y,q=Symbol.for("react.element"),V=Symbol.for("react.fragment"),j=Object.prototype.hasOwnProperty,Y=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W={key:!0,ref:!0,__self:!0,__source:!0};function v(e,t,r){var s,a={},c=null,i=null;r!==void 0&&(c=""+r),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)j.call(t,s)&&!W.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:q,type:e,key:c,ref:i,props:a,_owner:Y.current}}x.Fragment=V;x.jsx=v;x.jsxs=v;P.exports=x;var k=P.exports;const S=k.Fragment,l=k.jsx,A=k.jsxs,z=["S","T","Q","Q","S","S","D"];function H(e){const t=e.getFullYear(),r=e.getMonth(),s=new Date(t,r+1,1);return s.setDate(s.getDate()-1),s}function C(e){return new Date(e.getFullYear(),e.getMonth(),1)}function b(e){if(!e)return!1;const t=e.getDate(),r=e.getMonth(),s=e.getFullYear(),a=`${t}${r}${s}`,c=new Date,i=c.getDate(),d=c.getMonth(),u=c.getFullYear(),m=`${i}${d}${u}`;return a===m}function Q(e,t){const r=C(e),s=H(e),a=r.getDate(),c=s.getDate(),i=r.getDay()==0?6:r.getDay()-1,d=s.getDay()===0?0:7-s.getDay(),u=t.startAt?t.startAt.getTime():0,m=t.endAt?t.endAt.getTime():0,f=[];for(let g=0;g<i;g++){const n=new Date(e.getFullYear(),e.getMonth(),a-(i-g)),p=n.getDay(),o=n.getTime();f.push({isEmpty:!0,day:n.getDate(),isInBetweenRange:o>u&&o<m,isBeginRange:o===u,isEndRange:o===m,isOnEdgeRight:p==0,isOnEdgeLeft:p==1})}for(let g=a;g<=c;g++){const n=new Date(e.getFullYear(),e.getMonth(),g,0,0,0,0),p=n.getDay(),o=n.getTime();f.push({isEmpty:!1,day:g,fullDay:n,isBeginRange:o===u,isEndRange:o===m,isInBetweenRange:o>u&&o<m,isOnEdgeRight:p==0,isOnEdgeLeft:p==1})}for(let g=0;g<d;g++){const n=new Date(e.getFullYear(),e.getMonth(),c+g+1),p=n.getDay(),o=n.getTime();f.push({isEmpty:!0,day:n.getDate(),isBeginRange:o===u,isEndRange:o===m,isInBetweenRange:o>u&&o<m,isOnEdgeRight:p==0,isOnEdgeLeft:p==1})}return f}function U(e,t){if(!e||!t)return!1;const r=`${e.getMonth()}-${e.getFullYear()}`,s=`${t.getMonth()}-${t.getFullYear()}`;return r===s}function J(e,t){return!e||!t?!1:e.getTime()===t.getTime()}function G(e){if(e.type==="entire-period")return"Último ano";if(e.type==="last-week")return"Última semana";if(e.type==="last-month")return"Último mês";if(!e.startAt&&!e.endAt)return"Último ano";if(e.startAt&&!e.endAt)return"Insira a data final";if(e.startAt&&J(e.startAt,e.endAt)){const t=e.startAt,r=t.toLocaleString("pt-br",{day:"2-digit"}),s=t.toLocaleString("pt-br",{month:"long"}),a=t.getFullYear();return`${r} de ${s} ${a}`}if(e.startAt&&U(e.startAt,e.endAt))return e.startAt.toLocaleString("pt-br",{month:"long",year:"numeric"});if(e.startAt&&e.endAt){const t=e.startAt.getFullYear(),r=e.startAt.toLocaleString("pt-br",{month:"short"}),s=e.endAt.toLocaleString("pt-br",{month:"short"});return`${r}-${s} ${t}`}return""}function h(){const e=new Date;return e.setHours(0,0,0,0),e}function F(e){return e?h().getTime()<e.getTime():!1}function K(e){const t=new Date(e);t.setHours(0,0,0,0),t.setDate(1);const r=C(h());return t.getTime()===r.getTime()}function X(e,t){if(!e.startAt&&!e.endAt)return!0;if(e.startAt&&!e.endAt)return!1;if(e.startAt&&e.endAt){const r=e.endAt.getTime()-e.startAt.getTime();return Math.floor(r/(1e3*60*60*24)+1)>t}return!1}function _({value:e,onClick:t}){return l("button",{onClick:t,className:"flex h-[40px] min-w-[212px] gap-2 rounded bg-grey-200 px-4 py-[9.5px] text-sm text-grey-500",children:l("span",{className:"text-sm font-normal leading-lg text-grey-500",children:e})})}try{_.displayName="CalendarButton",_.__docgenInfo={description:"",displayName:"CalendarButton",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}}}catch{}function Z(){return l(S,{children:z.map((e,t)=>l("a",{className:"flex h-[32px] w-[calc(100%/7)] items-center justify-center text-center font-bold text-grey-500",children:e},t))})}const E={isEmptyNotInRange:"pointer-events-none text-grey-300",isEmptyInRangeNotOnEdges:"pointer-events-none text-grey-300 bg-medEdu-100",isEmptyInRangeOnLeftEdge:"pointer-events-none text-grey-300 bg-medEdu-100 rounded-l-full",isEmptyInRangeOnRightEdge:"pointer-events-none text-grey-300 bg-medEdu-100 rounded-r-full",isInRangeAndNotOnEdges:"bg-medEdu-100",isInRangeAndInRightEdge:"bg-medEdu-100 rounded-r-full",isInRangeAndInLeftEdgeAndNotSelected:"bg-medEdu-100 rounded-l-full",isEndDateAndNotSameDateAsBegin:"rounded-r-full bg-gradient-to-r from-medEdu-100 to-transparent",isBeginDateAndEndDateNotNullAndDatesNotSame:"rounded-l-full bg-gradient-to-l from-medEdu-100 to-transparent"};function ee(e,t){return e.isEmpty&&!e.isInBetweenRange&&!e.isBeginRange&&!e.isEndRange?E.isEmptyNotInRange:e.isEmpty&&e.isInBetweenRange&&!e.isOnEdgeLeft&&!e.isOnEdgeRight?E.isEmptyInRangeNotOnEdges:e.isEmpty&&e.isInBetweenRange&&e.isOnEdgeLeft?E.isEmptyInRangeOnLeftEdge:e.isEmpty&&e.isInBetweenRange&&e.isOnEdgeRight?E.isEmptyInRangeOnRightEdge:e.isInBetweenRange&&!e.isOnEdgeLeft&&!e.isOnEdgeRight?E.isInRangeAndNotOnEdges:e.isInBetweenRange&&e.isOnEdgeRight?E.isInRangeAndInRightEdge:e.isInBetweenRange&&e.isOnEdgeLeft&&(!e.isBeginRange||!e.isEndRange)?E.isInRangeAndInLeftEdgeAndNotSelected:e.isEndRange&&!e.isOnEdgeLeft&&e.isBeginRange!==e.isEndRange?E.isEndDateAndNotSameDateAsBegin:e.isBeginRange&&t&&e.isBeginRange!==e.isEndRange&&!e.isOnEdgeRight?E.isBeginDateAndEndDateNotNullAndDatesNotSame:""}function N({day:e,onPrev:t,onNext:r,disableFuture:s}){const a=s?K(e):!1;return A("div",{className:"bg-gray-300 mx-auto flex h-[32px] min-h-[32px] w-[185px] items-center justify-center gap-2 overflow-hidden rounded-lg bg-grey-000",children:[l("button",{onClick:t,type:"button",className:"flex h-[32px] w-[32px] items-center justify-center hover:bg-grey-100"}),A("p",{className:"w-[150px] whitespace-nowrap text-center text-sm font-bold capitalize text-grey-500",children:[e.toLocaleString("pt-br",{month:"long"})," ",e.getFullYear()]}),l("button",{onClick:r,"data-disabled":a,disabled:a,type:"button",className:"flex h-[32px] w-[32px] items-center justify-center hover:bg-grey-100 data-[disabled=true]:cursor-not-allowed"})]})}try{N.displayName="MonthTitle",N.__docgenInfo={description:"",displayName:"MonthTitle",props:{day:{defaultValue:null,description:"",name:"day",required:!0,type:{name:"Date"}},onNext:{defaultValue:null,description:"",name:"onNext",required:!0,type:{name:"() => void"}},onPrev:{defaultValue:null,description:"",name:"onPrev",required:!0,type:{name:"() => void"}},disableFuture:{defaultValue:null,description:"",name:"disableFuture",required:!1,type:{name:"boolean"}}}}}catch{}function w({value:e,onSelect:t,children:r,disableFuture:s}){const[a,c]=y.useState([]),[i,d]=y.useState((e==null?void 0:e.startAt)||new Date);y.useEffect(()=>{const n=Q(i,e);c(n)},[i,e]);function u(){const n=new Date(i);n.setDate(1),n.setMonth(i.getMonth()-1),d(n)}function m(){const n=new Date(i);n.setDate(1),n.setMonth(i.getMonth()+1),d(n)}function f(n){n!=null&&n.isEmpty||!(n!=null&&n.fullDay)||t(n.fullDay)}function g(n){s&&F(n.fullDay)||f(n)}return A("div",{className:"bg-white",children:[l(N,{day:i,onNext:m,onPrev:u,disableFuture:s}),l("hr",{className:"my-4 w-full border-b border-t-0 border-grey-200"}),A("div",{className:"flex",children:[A("div",{className:"flex w-[269px] flex-wrap",children:[l(Z,{}),a.map((n,p)=>l("a",{onClick:()=>g(n),className:`my-1 flex h-[32px] w-[calc(100%/7)] items-center justify-center text-center ${ee(n,e.endAt)}`,children:l("span",{"data-selected":(n.isBeginRange||n.isEndRange)&&!b(n.fullDay),className:`flex h-[32px] w-[32px] items-center justify-center rounded-full text-sm data-[selected=true]:bg-medEdu-300 data-[selected=true]:text-white-000 ${b(n.fullDay)&&"bg-medEdu-400 text-white-000"}
                ${s&&F(n.fullDay)?"cursor-not-allowed":"cursor-pointer"}               
                                ${!n.isEmpty&&!b(n.fullDay)&&"border-medEdu-400 text-grey-500 hover:border hover:text-medEdu-400"}`,children:n.day})},p))]}),l("div",{className:"mx-4 w-[1px] bg-grey-100"}),r]})]})}try{w.displayName="DatePicker",w.__docgenInfo={description:"",displayName:"DatePicker",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"RangeProps"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"Dispatch<Date>"}},disableFuture:{defaultValue:null,description:"",name:"disableFuture",required:!1,type:{name:"boolean"}}}}}catch{}function I({onFilter:e,range:t}){y.useRef([{id:"entire-period",label:"Último ano",onClick:a},{id:"last-week",label:"Última semana",onClick:s},{id:"last-month",label:"Último mês",onClick:r},{id:"custom",label:"Personalizado",onClick:c}]);function r(){const i=h(),d=h();i.setDate(d.getDate()-30),e({startAt:i,endAt:d,type:"last-month"})}function s(){const i=h(),d=h();i.setDate(d.getDate()-7),e({startAt:i,endAt:d,type:"last-week"})}function a(){const i=new Date(h().getFullYear()-1,h().getMonth(),h().getDate());e({startAt:i,endAt:h(),type:"entire-period"})}function c(){e({startAt:null,endAt:null,type:"custom"})}return l(S,{})}try{I.displayName="Filters",I.__docgenInfo={description:"",displayName:"Filters",props:{onFilter:{defaultValue:null,description:"",name:"onFilter",required:!0,type:{name:"Dispatch<RangeProps>"}},range:{defaultValue:null,description:"",name:"range",required:!0,type:{name:"RangeProps"}}}}}catch{}function O({value:e=null,disableFuture:t,onChange:r,maxRange:s=367}){const a=y.useRef(!0),[c,i]=y.useState(!1),[d,u]=y.useState({startAt:null,endAt:null,type:"custom"});y.useEffect(()=>{e&&u(e)},[e,c]),y.useEffect(()=>{e&&r(e)},[]);function m(){i(!0)}function f(){i(!1)}function g(o){a.current?(a.current=!1,u({startAt:o,endAt:null,type:"custom"})):(a.current=!0,u(R=>{var B;return R.startAt&&o.getTime()<((B=R==null?void 0:R.startAt)==null?void 0:B.getTime())?{startAt:o,endAt:R==null?void 0:R.startAt,type:"custom"}:{...R,endAt:o,type:"custom"}}))}function n(o){a.current=!0,u(o)}function p(){if(d.endAt)r(d);else{const o={...d,endAt:d.startAt};u(o),r(o),a.current=!0}f()}return l("div",{className:"flex w-full flex-col gap-1",children:A("div",{className:"relative w-full",children:[l(_,{onClick:m,value:G(d)}),c&&A(S,{children:[l("div",{className:"fixed left-0 top-0 z-[100] h-screen w-screen",onClick:f}),A("div",{className:"absolute top-full z-[101] overflow-hidden rounded-lg border border-grey-100 bg-white-000 p-6 shadow-lg",children:[l(w,{value:d,onSelect:g,disableFuture:t,children:l(I,{onFilter:n,range:d})}),l("hr",{className:"my-4 border-0 border-b border-grey-100"}),A("div",{className:"flex gap-2",children:[l("button",{type:"submit",onClick:f,children:l("span",{children:"Cancelar"})}),l("button",{type:"submit",onClick:p,disabled:X(d,s),children:l("span",{children:"Aplicar"})})]})]})]})]})})}try{O.displayName="RangeDatepicker",O.__docgenInfo={description:"",displayName:"RangeDatepicker",props:{value:{defaultValue:{value:"null"},description:"",name:"value",required:!1,type:{name:"RangeProps"}},disableFuture:{defaultValue:null,description:"",name:"disableFuture",required:!1,type:{name:"boolean"}},maxRange:{defaultValue:{value:"367"},description:"",name:"maxRange",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(date: RangeProps) => void"}}}}}catch{}const se={title:"DateRangePicker",component:O},D={args:{}};var L,M,T;D.parameters={...D.parameters,docs:{...(L=D.parameters)==null?void 0:L.docs,source:{originalSource:`{
  args: {}
}`,...(T=(M=D.parameters)==null?void 0:M.docs)==null?void 0:T.source}}};const re=["Primary"];export{D as Primary,re as __namedExportsOrder,se as default};
